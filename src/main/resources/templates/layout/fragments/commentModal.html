<!DOCTYPE html>
<html lagn="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymleaf.org/extras/spring-security">

<!-- Head -->
<th:block th:fragment="modalFragment">
    <div class="modal fade" id="commentModal" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content rounded-4 overflow-hidden border-0">
                <div class="modal-header d-none">
                    <h5 class="modal-title" id="exampleModalLabel2">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-0">
                    <div class="row m-0">
                        <div class="col-sm-7 px-0 m-sm-none">
                            <!-- Image Slider -->
                            <div class="image-slider">
                                <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                                    <div class="carousel-indicators">
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                    </div>
                                    <div class="carousel-inner">
                                        <div class="carousel-item active">
                                            <img src="/img/post-img1.jpg" class="d-block w-100" alt="...">
                                        </div>

                                    </div>
                                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Previous</span>
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Next</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 content-body px-web-0">
                            <div class="d-flex flex-column h-600">

                                <div class="d-flex p-3 border-bottom" sec:authorize="isAuthenticated()">
                                    <img id="comment-img" src="/img/basic.jpg" class="img-fluid rounded-circle user-img" alt="profile-img">
                                    <div class="d-flex align-items-center justify-content-between w-100">
                                        <a href="/profile" class="text-decoration-none ms-3">
                                            <div class="d-flex align-items-center">
                                                <h6 id="comment-username" class="fw-bold text-body mb-0">유저네임</h6>
                                                <p class="ms-2 material-icons bg-primary p-0 md-16 fw-bold text-white rounded-circle ov-icon mb-0">done</p>
                                            </div>
                                            <p id="comment-nickname" class="text-muted mb-0 small">닉네임</p>
                                        </a>
                                        <div class="small dropdown">
                                            <a href="#" class="text-muted text-decoration-none material-icons ms-2 md-" data-bs-dismiss="modal">close</a>
                                       </div>
                                    </div>
                                </div>

                                <div class="d-flex p-3 border-bottom" sec:authorize="isAnonymous()">
                                    <img src="/img/basic.jpg" class="img-fluid rounded-circle user-img" alt="profile-img">
                                    <div class="d-flex align-items-center justify-content-between w-100">
                                        <a href="/profile" class="text-decoration-none ms-3">
                                            <div class="d-flex align-items-center">
                                                <h6  class="fw-bold text-body mb-0">로그인해주세요</h6>
                                                <p class="ms-2 material-icons bg-primary p-0 md-16 fw-bold text-white rounded-circle ov-icon mb-0">done</p>
                                            </div>
                                            <p class="text-muted mb-0 small"></p>
                                        </a>
                                        <div class="small dropdown">
                                            <a href="#" class="text-muted text-decoration-none material-icons ms-2 md-" data-bs-dismiss="modal">close</a>
                                        </div>
                                    </div>
                                </div>
                                <div id="commentTable" class="comments p-3" th:each="comment :${comments}">

                                    <div class="d-flex mb-2">
                                        <img th:src="'/img/'+${comment.profile_img}" class="img-fluid rounded-circle" alt="profile-img">
                                        <div class="ms-2 small">
                                            <div class="bg-light px-3 py-2 rounded-4 mb-1 chat-text">
                                                <p class="fw-500 mb-0" th:text="${comment.username}">이름</p>
                                                <span class="text-muted" th:text="${comment.context}">텍스트</span>
                                            </div>
                                            <div class="d-flex align-items-center ms-2">
                                                <a href="#" class="small text-muted text-decoration-none">Like</a>
                                                <span class="fs-3 text-muted material-icons mx-1">circle</span>
                                                <a href="#" class="small text-muted text-decoration-none">Reply</a>
                                                <span class="fs-3 text-muted material-icons mx-1">circle</span>
                                                <span class="small text-muted">1h</span>
                                            </div>
                                        </div>

                                    </div>

                                </div>


<!--                                <div id="commentTable" class="comments p-3" th:each="comment :${comments}">-->

<!--                                    <div class="d-flex mb-2">-->
<!--                                        <img th:src="'/img/'+${comment.profile_img}" class="img-fluid rounded-circle" alt="profile-img">-->
<!--                                        <div class="ms-2 small">-->
<!--                                            <div class="bg-light px-3 py-2 rounded-4 mb-1 chat-text">-->
<!--                                                <p class="fw-500 mb-0" th:text="${comment.username}">이름</p>-->
<!--                                                <span class="text-muted" th:text="${comment.context}">텍스트</span>-->
<!--                                            </div>-->
<!--                                            <div class="d-flex align-items-center ms-2">-->
<!--                                                <a href="#" class="small text-muted text-decoration-none">Like</a>-->
<!--                                                <span class="fs-3 text-muted material-icons mx-1">circle</span>-->
<!--                                                <a href="#" class="small text-muted text-decoration-none">Reply</a>-->
<!--                                                <span class="fs-3 text-muted material-icons mx-1">circle</span>-->
<!--                                                <span class="small text-muted">1h</span>-->
<!--                                            </div>-->
<!--                                        </div>-->

<!--                                    </div>-->

<!--                                </div>-->



                                <div class="border-top p-3 mt-auto">
                                    <div class="d-flex align-items-center justify-content-between mb-2">
                                        <div>
                                            <a href="#" class="text-muted text-decoration-none d-flex align-items-start fw-light"><span class="material-icons md-20 me-2">thumb_up_off_alt</span><span id="comment-modal-like" class="post-thumbs-up">30.4k</span></a>
                                        </div>
                                        <div>
                                            <a href="#" class="text-muted text-decoration-none d-flex align-items-start fw-light"><span class="material-icons md-20 me-2">repeat</span><span>617</span></a>
                                        </div>
                                        <div>
                                            <a href="#" class="text-muted text-decoration-none d-flex align-items-start fw-light"><span class="material-icons md-18 me-2">share</span><span>Share</span></a>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-center">
                                        <span class="material-icons bg-white border-0 text-primary pe-2 md-36">account_circle</span>
                                        <div class="d-flex align-items-center border rounded-4 px-3 py-1 w-100">
                                            <input type="text" class="form-control form-control-sm p-0 rounded-3 fw-light border-0" placeholder="Write Your comment">
                                            <a href="#" class="bg-white border-0 text-primary ps-2 text-decoration-none">Post</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer d-none">
                </div>
            </div>
        </div>
    </div>
</th:block>
</html>